<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <title>@ViewData["Title"] - Project2EmailNight</title>
    <link rel="icon" href="~/assets/images/favicon-32x32.png" type="image/png" />

    <!-- Template CSS -->
    <link href="~/assets/plugins/simplebar/css/simplebar.css" rel="stylesheet" />
    <link href="~/assets/plugins/perfect-scrollbar/css/perfect-scrollbar.css" rel="stylesheet" />
    <link href="~/assets/plugins/metismenu/css/metisMenu.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="~/assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600&family=Roboto&display=swap" />
    <link rel="stylesheet" href="~/assets/css/icons.css" />
    <link rel="stylesheet" href="~/assets/css/app.css" />
    <link rel="stylesheet" href="~/assets/css/dark-sidebar.css" />
    <link rel="stylesheet" href="~/assets/css/dark-theme.css" />
</head>
<body>
    <div class="wrapper">
        <!-- Ana Sidebar - Sadece normal sayfalarda göster -->
        @if (ViewData["IsEmailPage"] == null || !(bool)ViewData["IsEmailPage"])
        {
            <partial name="_Sidebar" />
        }

        <!-- Header - Her zaman göster -->
        <partial name="_Header" />

        <!-- Email Page mi Normal Page mi? -->
        @if (ViewData["IsEmailPage"] != null && (bool)ViewData["IsEmailPage"])
        {
            <!-- Email Sayfası - Direkt RenderBody -->
            @RenderBody()
        }
        else
        {
            <!-- Normal Sayfa - Page Wrapper ile -->
            <div class="page-wrapper">
                <div class="page-content-wrapper">
                    <div class="page-content">
                        @RenderBody()
                    </div>
                </div>
            </div>
        }

        <!-- Overlay -->
        <div class="overlay toggle-btn-mobile"></div>

        <!-- Back to Top -->
        <a href="javaScript:;" class="back-to-top"><i class='bx bxs-up-arrow-alt'></i></a>

        <!-- Footer -->
        <div class="footer">
            <p class="mb-0">Project2EmailNight &copy; 2026</p>
        </div>
    </div>

    <!-- Template JS -->
    <script src="~/assets/js/bootstrap.bundle.min.js"></script>
    <script src="~/assets/js/jquery.min.js"></script>
    <script src="~/assets/plugins/simplebar/js/simplebar.min.js"></script>
    <script src="~/assets/plugins/metismenu/js/metisMenu.min.js"></script>
    <script src="~/assets/plugins/perfect-scrollbar/js/perfect-scrollbar.js"></script>

    @if (ViewData["IsEmailPage"] != null && (bool)ViewData["IsEmailPage"])
    {
        <script>
            new PerfectScrollbar('.email-navigation');
            new PerfectScrollbar('.email-list');
        </script>
    }

    <script src="~/assets/js/app.js"></script>

    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>